# SPDX-FileCopyrightText: Copyright (c) 2024-2025 Objectionary.com
# SPDX-License-Identifier: MIT
---
name: invokeinterface-to-lambda
pattern: |
  âŸ¦
    ğµ1,
    ğœ1 â†¦ âŸ¦
      base â†¦ "Q.jeo.opcode.invokedynamic",
      ğœ2 â†¦ 186,
      ğœ3 â†¦ ğ‘’1,
      ğœ4 â†¦ ğ‘’2,
      ğœ5 â†¦ âŸ¦
        base â†¦ "Q.jeo.handle",
        ğœ6 â†¦ 6,
        ğœ7 â†¦ "java/lang/invoke/LambdaMetafactory",
        ğœ8 â†¦ "metafactory",
        ğœ9 â†¦ "(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;",
        ğœ10 â†¦ Î¦Ì‡.false,
        ğµ10
      âŸ§,
      ğœ11 â†¦ âŸ¦
        base â†¦ "Q.jeo.type",
        ğœ12 â†¦ ğ‘’3,
        ğµ11
      âŸ§,
      ğœ13 â†¦ âŸ¦
        base â†¦ "Q.jeo.handle",
        ğœ14 â†¦ 6,
        ğœ15 â†¦ ğ‘’4,
        ğœ16 â†¦ ğ‘’5,
        ğœ17 â†¦ ğ‘’6,
        ğœ18 â†¦ Î¦Ì‡.false,
        ğµ12
      âŸ§,
      ğœ19 â†¦ âŸ¦
        base â†¦ "Q.jeo.type",
        ğœ21 â†¦ ğ‘’7,
        ğµ13
      âŸ§,
      ğµ14
    âŸ§,
    ğœ22 â†¦ âŸ¦
      base â†¦ "Q.jeo.opcode.invokeinterface",
      ğœ23 â†¦ 185,
      ğœ24 â†¦ ğ‘’8,
      ğœ25 â†¦ ğ‘’9,
      ğœ26 â†¦ ğ‘’10,
      ğœ27 â†¦ Î¦Ì‡.true,
      ğµ15
    âŸ§,
    ğµ2
  âŸ§
result: |
  âŸ¦
    ğµ1,
    ğœ1 â†¦ âŸ¦
      base â†¦ "Q.hone.lambda",
      method â†¦ ğ‘’1,
      interface â†¦ ğ‘’2,
      signature â†¦ ğ‘’3,
      target-class â†¦ ğ‘’4,
      target-method â†¦ ğ‘’5,
      target-signature â†¦ ğ‘’6,
      intermediate-signature â†¦ ğ‘’7,
      stream-class â†¦ ğ‘’8,
      stream-method â†¦ ğ‘’9,
      stream-signature â†¦ ğ‘’10
    âŸ§,
    ğµ2
  âŸ§
